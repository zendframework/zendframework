<?xml version="1.0" encoding="UTF-8"?>
<!-- EN-Revision: 16981 -->
<!-- Reviewed: no -->
<sect1 id="zend.navigation.migration">
    <title>Migration von vorhergehenden Versionen</title>

    <para>
        Dieses Kapitel beschreibt primär Brüche in der Abwärtskompatibilität von Zend_Navigation
        und Zend_View_Helper_Navigation und sollte als Hilfe bei der Migration von vorhergehenden
        Versionen dienen.
    </para>

    <sect2 id="zend.view.navigation.zf7341">
        <title>Migration von Versionen vor 1.9</title>

        <para>
            Vor dem Release 1.9 hat der Menü Helfer
            (<classname>Zend_View_Helper_Navigation_Menu</classname>) Untermenüs nicht richtig
            dargestellt. Wenn <code>onlyActiveBranch</code> <code>true</code> war und die Option
            <code>renderParents</code> <code>false</code> wurde nichts dargestellt wenn die
            tiefste aktive Seite auf einer geringeren Tiele als die <code>minDepth</code> Option
            war.
        </para>

        <para>
            In einfacheren Worten; Wenn <code>minDepth</code> auf <code>1</code> gesetzt war und
            die aktive Seite eine der Seiten am Anfangs-Level, wurde nichts dargestellt wie das
            folgende Beispiel zeigt.
        </para>

        <para>
            Das folgende Container Setup wird angenommen:
        </para>

        <programlisting language="php"><![CDATA[
<?php
$container = new Zend_Navigation(array(
    array(
        'label' => 'Home',
        'uri'   => '#'
    ),
    array(
        'label'  => 'Products',
        'uri'    => '#',
        'active' => true,
        'pages'  => array(
            array(
                'label' => 'Server',
                'uri'   => '#'
            ),
            array(
                'label' => 'Studio',
                'uri'   => '#'
            )
        )
    ),
    array(
        'label' => 'Solutions',
        'uri'   => '#'
    )
));
]]></programlisting>

        <para>
            Der folgende Code wird in einem View Script verwendet:
        </para>

        <programlisting language="php"><![CDATA[
<?php echo $this->navigation()->menu()->renderMenu($container, array(
    'minDepth'         => 1,
    'onlyActiveBranch' => true,
    'renderParents'    => false
)); ?>]]></programlisting>

        <para>
            Vor dem Release 1.9 würde der obige Codeabschnitt nichts ausgeben.
        </para>

        <para>
            Seit dem Release 1.9 akzeptiert die <code>_renderDeepestMenu()</code> Methode in
            <classname>Zend_View_Helper_Navigation_Menu</classname> aktive Seiten die ein Level
            unter <code>minDepth</code> sind, solange diese Seite Kinder hat.
        </para>

        <para>
            Der gleiche Codeabschnitt zeigt jetzt die folgende Ausgabe:
        </para>

        <programlisting language="html"><![CDATA[
<ul class="navigation">
    <li>
        <a href="#">Server</a>
    </li>
    <li>
        <a href="#">Studio</a>
    </li>
</ul>]]></programlisting>
    </sect2>
</sect1>